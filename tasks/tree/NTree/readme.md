# N-ary Tree

## Пререквизиты

- [tree/bst](/tasks/tree/bst)
- [vector](/tasks/vector) - рекомендуется

---

В этой задаче напишем свою простую файловую систему, представленную в виде N-ary tree - дерева с переменным количеством детей.

## Публичный API

Мы реализуем простые операции

- `ChangeDir(path)` - изменить текущую рабочую директорию
- `PWD()` - напечатать текущую рабочую директорию
- `ListFiles(path)` - напечатать список файлов в отстортированном лексикографическом порядке
- `MakeDir(path, is_create_parents)` - Создать папку. Второй флаг позволяет создать все новые папки на пути
- `CreateFile(path, is_overwrite)` - создать файл. Если уже существует, второй флаг позволит перезаписать.
- `WriteToFile(path, is_overwrite, stream)` - написать в файл. Если флаг = true, то перезаписаписываем, если false - добавляем в конец. WriteToFile должен считывать данные из переданного потока.
- `RemoveFile(path)` - удалить файл. Если в пути указана папка, то каскадно удалить всё поддерево этой папки.
- `ShowFileContent(path)` - распечатать содержимое файла
- `FindFile(filename)` - найти файл по имени. Выводим полный путь до файла. Если не найден - пишем об этом сообщение.

Во всех операциях присутствует поиск файла. Если файл не найден, бросьте исключение [`FileNotFoundException`](filesystem/detail/exceptions.hpp).

## Компоненты

Файловая система состоит из узлов - [папок](filesystem/files/directory.hpp). Каждый узел хранит [файлы](filesystem/files/file.hpp), указатель на родителя и список своих детей - вложенных папок.

## Пути

Путь в Linux выглядит так:
```/mnt/c/Users/Me/file.hpp```

В данном случае это абсолютный путь - от корня до текущего файла/папки. 

Бывают также относительные пути:
```../../../filesytem/```

`..` - означают вверх по дереву. Для простой поддержки относительных путей, узел должен хранить указатель на родителя.

### Split
В пути есть чёткие указания в какой узел идти - название папки указано между символами косой черты.

Здесь пригодился бы split из Python. Отлично, реализуйте его!

*Важно отметить, что пути могут быть разными. Например, в Windows приняты двойные обратные слэши. Поэтому в общем случае `splitter` - это строка, а не символ `/`.*

## Задание

Реализуйте простую файловую систему построенную на `N-ary Tree`.

### Указания к реализации

Для хранения файлов и детей можно использовать vector. Однако, нам необходимо быстро искать и получать файлы в отсортированном виде. Тут пригодился бы `Map`, реализованный вами в задаче `bst`.

Используйте его. В качестве ключа используйте имена файлов/папок.

Классы `Directory` и `File` не должны быть доступны пользователю напрямую. Пользователь работает только с файловой системой, про её устройство он знать не должен.

Сделайте все данные и методы приватными в `Directory` и `File`, добавив доступ только классу `Fs`.

